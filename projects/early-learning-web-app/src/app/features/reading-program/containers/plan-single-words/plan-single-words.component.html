<div class="container" fxLayout="column" fxLayoutAlign="center center">
  <div
    fxFlex
    fxFill
    class="content"
    fxLayout="row"
    fxLayoutAlign="center center"
  >
    <mat-card
      fxLayout="column"
      fxLayoutAlign="center center"
      *ngIf="(currentProgram$ | async) == null; else planningView"
    >
      <h1>Choose what child/children to do planning for</h1>
      <mat-form-field appearance="fill" fxFlex>
        <mat-label>Choose child/children</mat-label>
        <mat-select (selectionChange)="selectProgram($event)">
          <mat-option
            *ngFor="let program of programs$ | async"
            [value]="program"
          >
            {{ program.children | listChildren }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </mat-card>

    <ng-template #planningView>
      <div fxFlex fxLayout="column">
        <h1>
          Plan single words for
          {{ (currentProgram$ | async)?.children | listChildren }}
        </h1>
        <div><h2>Completed categories</h2></div>
        <div>
          <h2>Current categories</h2>
          <div
            *ngIf="currentCategories$ != null"
            fxLayout="row"
            fxLayoutGap="1em"
          >
            <mat-card fxFlex *ngFor="let c of currentCategories$ | async">
              <mat-card-title fxLayout="row"  fxLayoutAlign="center center"
                >
                <span fxFlex>{{ c.categoryName }}</span>
                <button fxFlex="nogrow"
                  mat-icon-button
                  [matMenuTriggerFor]="menu"
                  aria-label="Example icon-button with a menu"
                >
                  <mat-icon>more_vert</mat-icon>
                </button>
                <mat-menu #menu="matMenu">
                  <button mat-menu-item>
                    <mat-icon>dialpad</mat-icon>
                    <span>Move to completed</span>
                  </button>
                  <button mat-menu-item disabled>
                    <mat-icon>voicemail</mat-icon>
                    <span>Move to planned</span>
                  </button>
                  <button mat-menu-item>
                    <mat-icon>notifications_off</mat-icon>
                    <span>Remove from plan</span>
                  </button>
                  <button mat-menu-item>
                    <mat-icon>notifications_off</mat-icon>
                    <span>View statistics</span>
                  </button>
                  <button mat-menu-item>
                    <mat-icon>notifications_off</mat-icon>
                    <span>Edit category</span>
                  </button>
                </mat-menu></mat-card-title
              >
              <mat-card-content>
<ul><li *ngFor="let word of c.cards">{{word.textOnCard}}</li></ul>
              </mat-card-content>
            </mat-card>
          </div>
        </div>
        <div><h2>Planned categories</h2></div>
      </div>
    </ng-template>
  </div>
</div>
