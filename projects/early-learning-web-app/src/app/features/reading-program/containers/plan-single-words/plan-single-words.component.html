<div class="container" fxLayout="column" fxLayoutAlign="center center">
  <div
    fxFlex
    fxFill
    class="content"
    fxLayout="row"
    fxLayoutAlign="center center"
  >
    <mat-card
      fxLayout="column"
      fxLayoutAlign="center center"
      *ngIf="(currentProgram$ | async) == null; else planningView"
    >
      <h1>Choose what child/children to do planning for</h1>
      <mat-form-field appearance="fill" fxFlex>
        <mat-label>Choose child/children</mat-label>
        <mat-select (selectionChange)="selectProgram($event)">
          <mat-option
            *ngFor="let program of programs$ | async"
            [value]="program"
          >
            {{ program.children | listChildren }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </mat-card>

    <ng-template #planningView>
      <div fxFlex fxLayout="column">
        <h1>
          Plan single words for
          {{ (currentProgram$ | async)?.children | listChildren }}
        </h1>
        <div>
          <h2>Completed categories</h2>
          <div fxLayout="column" fxLayoutAlign="center center">
            <button mat-mini-fab matTooltip="Load more completed categories">
              <mat-icon>expand_less</mat-icon>
            </button>
          </div>
          <div
            *ngIf="completedCategories$ != null"
            fxLayout="row"
            fxLayoutGap="1em"
          >
            <app-reading-category
              fxFlex
              *ngFor="let c of completedCategories$ | async"
              [category]="c"
            >
            </app-reading-category>
          </div>
        </div>
        <div>
          <h2>Current categories</h2>
          <div
            *ngIf="currentCategories$ != null"
            fxLayout="row"
            fxLayoutGap="1em"
          >
            <app-reading-category
              fxFlex
              *ngFor="let c of currentCategories$ | async"
              [category]="c"
            >
            </app-reading-category>
          </div>
        </div>
        <div>
          <h2>Planned categories</h2>

          <div
            *ngIf="plannedCategories$ != null"
            fxLayout="row"
            fxLayoutGap="1em"
          >
            <app-reading-category
              fxFlex
              *ngFor="let c of plannedCategories$ | async"
              [category]="c"
            >
            </app-reading-category>
          </div>
          <div fxLayout="column" fxLayoutAlign="center center">
            <button mat-mini-fab matTooltip="Load more planned categories">
              <mat-icon>expand_more</mat-icon>
            </button>
          </div>
        </div>
      </div>
      <div
        fxLayout="column"
        fxLayoutAlign="center center"
        fxFlexAlign="end"
        class="addBtn"
      >
        <button mat-fab matTooltip="Add a new word category" color="primary">
          <mat-icon>add</mat-icon>
        </button>
      </div>
    </ng-template>
  </div>
</div>
