<div fxFlex fxLayout="column">
  <h1>
    Plan single words for
    {{ childrenOnProgram$ | async | listChildren }}
  </h1>

  <div class="space-top">
    <ng-container *ngIf="showCompleted; else noCompleted">
      <h2>Completed categories</h2>

      <app-category-list
        [categories]="completed$ | async"
        [isLoading]="isLoadingCompleted$ | async"
        [loadingError]="loadingCompletedError$ | async"
        [categoryType]="categoryTypes.Completed"
        (moveToPlanned)="moveToPlanned($event)"
        (moveToCurrent)="moveToCompleted($event)"
        (viewStatistics)="viewStats($event)"
        (loadMore)="loadMoreCompleted()"
      ></app-category-list>
    </ng-container>
    <ng-template #noCompleted>
      <button
        mat-button
        style="float: right"
        (click)="showCompletedCategories()"
      >
        Show completed categories
      </button>
    </ng-template>
  </div>

  <div class="current-categories space-top-xl space-bottom">
    <h2>Current categories</h2>
    <app-category-list
      [categories]="current$ | async"
      [isLoading]="isLoadingCurrent$ | async"
      [loadingError]="loadingCurrentError$ | async"
      [categoryType]="categoryTypes.Current"
      (edit)="editCategory($event)"
      (moveToPlanned)="moveToPlanned($event)"
      (moveToCompleted)="moveToCompleted($event)"
      (remove)="remove($event)"
      (viewStatistics)="viewStats($event)"
    ></app-category-list>
  </div>

  <div class="space-top">
    <h2>Planned categories</h2>
    <app-category-list
      [categories]="planned$ | async"
      [isLoading]="isLoadingPlanned$ | async"
      [loadingError]="loadingPlannedError$ | async"
      [categoryType]="categoryTypes.Planned"
      (edit)="editCategory($event)"
      (moveToCurrent)="moveToCurrent($event)"
      (moveToCompleted)="moveToCompleted($event)"
      (remove)="remove($event)"
      (viewStatistics)="viewStats($event)"
      (loadMore)="loadMorePlanned()"
    ></app-category-list>
  </div>
</div>
<div
  fxLayout="column"
  fxLayoutAlign="center center"
  fxFlexAlign="end"
  class="addBtn"
>
  <button
    mat-fab
    matTooltip="Add a new word category"
    color="primary"
    (click)="editCategory(null)"
  >
    <mat-icon>add</mat-icon></button
  ><!---->
</div>
